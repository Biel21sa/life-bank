<div class="history-container">
  <div class="header-section">
    <h1>Meu Histórico de Doações</h1>
    <p>Acompanhe todas as suas contribuições para salvar vidas</p>
  </div>

  <!-- Cards de Estatísticas -->
  <div class="stats-section">
    <div class="stats-grid">
      <mat-card class="stat-card">
        <div class="stat-icon">
          <mat-icon>favorite</mat-icon>
        </div>
        <div class="stat-content">
          <div class="stat-number">{{getTotalDonations()}}</div>
          <div class="stat-label">Doações Realizadas</div>
        </div>
      </mat-card>

      <mat-card class="stat-card">
        <div class="stat-icon">
          <mat-icon>bloodtype</mat-icon>
        </div>
        <div class="stat-content">
          <div class="stat-number">{{getTotalQuantity()}} ml</div>
          <div class="stat-label">Volume Total Doado</div>
        </div>
      </mat-card>

      <mat-card class="stat-card">
        <div class="stat-icon">
          <mat-icon>people</mat-icon>
        </div>
        <div class="stat-content">
          <div class="stat-number">{{getTotalDonations() * 3}}</div>
          <div class="stat-label">Vidas Impactadas</div>
        </div>
      </mat-card>
    </div>
  </div>

  <!-- Lista de Doações -->
  <div class="donations-section">
    <h2>Histórico Detalhado</h2>

    <div *ngIf="loading" class="loading-container">
      <mat-icon>hourglass_empty</mat-icon>
      <p>Carregando histórico...</p>
    </div>

    <div *ngIf="!loading && donations.length === 0" class="empty-state">
      <mat-icon>inbox</mat-icon>
      <h3>Nenhuma doação encontrada</h3>
      <p>Você ainda não realizou nenhuma doação. Que tal começar hoje?</p>
    </div>

    <div class="donations-grid" *ngIf="!loading && donations.length > 0">
      <mat-card class="donation-card" *ngFor="let donation of donations">
        <mat-card-header>
          <div class="donation-header">
            <div class="donation-date">
              <mat-icon>calendar_today</mat-icon>
              <span>{{ donation.collectionDate | date: 'dd/MM/yyyy' }}</span>
            </div>
          </div>
        </mat-card-header>

        <mat-card-content>
          <div class="donation-details">
            <div class="detail-item">
              <mat-icon>bloodtype</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Quantidade</span>
                <span class="detail-value">{{donation.quantity}} ml</span>
              </div>
            </div>

            <div class="detail-item" *ngIf="donation.donationLocation">
              <mat-icon>location_on</mat-icon>
              <div class="detail-content">
                <span class="detail-label">Local</span>
                <span class="detail-value">{{donation.donationLocation.name}}</span>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>