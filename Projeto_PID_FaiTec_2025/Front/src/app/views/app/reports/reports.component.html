<div class="reports-container">
  <div class="header-section">
    <h1>Relatórios e Gráficos</h1>
    <p>Analise dados e tendências das doações de sangue</p>
  </div>

  <div class="controls-section">
    <mat-card class="controls-card">
      <mat-card-content>
        <div class="controls-grid">
          <mat-form-field appearance="outline">
            <mat-label>Tipo de Gráfico</mat-label>
            <mat-select [(value)]="selectedChart" (selectionChange)="onChartChange()">
              <mat-option *ngFor="let option of chartOptions" [value]="option.value">
                <mat-icon>{{option.icon}}</mat-icon>
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          
          <mat-form-field appearance="outline">
            <mat-label>Ano</mat-label>
            <mat-select [(value)]="selectedYear" (selectionChange)="onYearChange()">
              <mat-option *ngFor="let year of availableYears" [value]="year">
                {{year}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="chart-section">
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>{{getSelectedChartIcon()}}</mat-icon>
          {{getSelectedChartLabel()}}
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas id="reportsChart"></canvas>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="info-section">
    <div class="info-cards">
      <mat-card class="info-card" *ngIf="selectedChart === 'evolution'">
        <mat-icon>info</mat-icon>
        <div class="info-content">
          <h4>Evolução de Doações</h4>
          <p>Visualize a tendência de doações ao longo dos meses para identificar sazonalidades e padrões.</p>
        </div>
      </mat-card>
      
      <mat-card class="info-card" *ngIf="selectedChart === 'bloodType'">
        <mat-icon>info</mat-icon>
        <div class="info-content">
          <h4>Doações por Tipo Sanguíneo</h4>
          <p>Analise a distribuição das doações por tipo sanguíneo para otimizar campanhas específicas.</p>
        </div>
      </mat-card>
      
      <mat-card class="info-card" *ngIf="selectedChart === 'evolutionByType'">
        <mat-icon>info</mat-icon>
        <div class="info-content">
          <h4>Evolução por Tipo Sanguíneo</h4>
          <p>Compare a evolução das doações de cada tipo sanguíneo ao longo do ano para identificar tendências específicas.</p>
        </div>
      </mat-card>
    </div>
  </div>
</div>